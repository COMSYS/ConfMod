<div class="w-full">
    <!--
    <div class="mt-4">
        <label>
            <span>Config Name:</span>
            <input class="ml-2" type="text" placeholder="Please enter a name" pInputText>
        </label>
    </div>
    -->

    <div class="flex flex-row gap-4 divide-x divide-gray-300">
        <section class="basis-2/3">
            <div class="flex flex-row gap-2 items-center">
                <h2>Observations</h2>
                <p-button text icon="pi pi-plus" (onClick)="openAddObservationDialog()" pTooltip="Add new observation" />
            </div>
            <app-observation-config
                [spec]="modelHeader.observations"
                [observationConfig]="scopeConfig.observations"
                (addMetadata)="handleAddFeatureMetadata($event)"
                (deleteMetadata)="handleDeleteFeatureMetadata($event)"
                (deleteObservation)="handleDeleteObservation($event)"
                (observationConfigChange)="handleObservationConfigChange($event)"
            />
        </section>

        <section class="ba:ew:sis-1/3">
            <h2>Metadata</h2>
            @if ((modelHeader.metadata | keyvalue).length) {
                <p>
                    Select which top-level metadata should be included.
                </p>
                <!--
                <div class="flex flex-row align-start items-center gap-2">
                    <p-button icon="pi pi-plus" label="Include all" size="small" />
                    <p-button icon="pi pi-minus" label="Remove all" size="small" />
                </div>
            -->
                <app-model-metadata
                    scopeName="Not set"
                    [metadata]="modelHeader.metadata"
                    [metadataConfig]="scopeConfig.metadata"
                    (metadataConfigChange)="handleMetadataChange($event)"
                    (deleteMetadata)="handleDeleteModelMetadata($event)"
                />
            } @else {
                <p>
                    The imported model did not contain any metadata.
                </p>
            }
            <app-add-metadata (addMetadata)="handleAddModelMetadata($event)" />
        </section>
    </div>

    <!-- Enable this for debugging purposes
    <section>
        <h3>Config</h3>
        <div class="font-mono text-sm">
            {{ scopeConfig | json }}
        </div>
    </section>
    <section>
        <h3>Model</h3>
        <div class="font-mono text-sm">
            {{ modelHeader | json }}
        </div>
    </section>
    -->
</div>
